"use strict";exports.id=885,exports.ids=[885],exports.modules={35885:(a,b,c)=>{c.d(b,{signStreamUrl:()=>f});var d=c(55511),e=c.n(d);function f(a,b=process.env.STREAM_SECRET||""){if(!b)return console.warn("STREAM_SECRET is not set, skipping signature"),a;try{let c=new URL(a);if(!c.pathname.endsWith(".m3u8"))return a;let d=Math.floor(Date.now()/1e3)+7200,f=`${d}${c.pathname} ${b}`,g=e().createHash("md5").update(f).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return c.searchParams.set("md5",g),c.searchParams.set("expires",d.toString()),c.toString()}catch(b){return console.error("Error signing stream URL:",b),a}}}};