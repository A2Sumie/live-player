(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3673:()=>{},3944:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},4990:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6168,23)),Promise.resolve().then(a.t.bind(a,3944,23)),Promise.resolve().then(a.t.bind(a,3673,23)),Promise.resolve().then(a.bind(a,8712))},6168:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}},8712:(e,t,a)=>{"use strict";a.d(t,{WithAuth:()=>s,A:()=>i});var r=a(5155),l=a(2115);let n=(0,l.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,l.useState)(null),[i,s]=(0,l.useState)(!0),c=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();o(t)}else o(null)}catch(e){console.error("Failed to fetch user:",e),o(null)}finally{s(!1)}},u=async(e,t)=>{try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(a.ok){let e=await a.json();return o(e),!0}return!1}catch(e){return console.error("Login failed:",e),!1}},h=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(e){console.error("Logout failed:",e)}o(null)},d=async()=>{await c()};return(0,l.useEffect)(()=>{c()},[]),(0,r.jsx)(n.Provider,{value:{user:a,loading:i,login:u,logout:h,refreshUser:d},children:t})}function i(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function s(e){let{children:t}=e;return(0,r.jsx)(o,{children:t})}}},e=>{e.O(0,[652,441,255,358],()=>e(e.s=4990)),_N_E=e.O()}]);